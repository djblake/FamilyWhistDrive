<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Family Tree & Lineages | Ruston Family Whist Drive</title>
    <meta name="description" content="Explore 40 years of family competition - family trees, lineages, and multi-generational tournament dynasties">
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo-section">
                    <div class="card-suits"><span class="heart">‚ô•</span> <span class="club">‚ô£</span> <span class="diamond">‚ô¶</span> <span class="spade">‚ô†</span></div>
                    <h1 class="site-title">Ruston Family Whist Drive</h1>
                    <p class="site-subtitle">Est. 1984 ‚Ä¢ The World's Most Elite Family Tournament</p>
                </div>
                <nav class="main-nav">
                    <a href="../" class="nav-link">Home</a>
                    <a href="../tournaments/" class="nav-link">Tournaments</a>
                    <a href="../players/" class="nav-link">Players</a>
                    <a href="../leaderboard/" class="nav-link">Hall of Fame</a>
                    <a href="../stats/" class="nav-link">Statistics</a>
                    <a href="#" class="nav-link active">Families</a>
                </nav>
            </div>
        </div>
    </header>

    <main class="main-content">
        <section class="families-hero">
            <div class="container">
                <div class="hero-content">
                    <div class="families-badge">üå≥ FAMILY LINEAGES</div>
                    <h1 class="hero-title">Tournament Family Tree</h1>
                    <p class="hero-subtitle">Three generations of competitive excellence - explore the family dynasties that have shaped 40 years of championship tradition</p>
                </div>
            </div>
        </section>

        <section class="family-overview-section">
            <div class="container">
                <h2 class="section-title">
                    <span class="title-icon">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</span>
                    Tournament Families
                </h2>
                
                <div class="families-grid" id="families-grid">
                    <!-- Family cards will be populated here -->
                </div>
            </div>
        </section>

        <section class="family-rivalries-section">
            <div class="container">
                <h2 class="section-title">
                    <span class="title-icon">‚öîÔ∏è</span>
                    Historic Family Rivalries
                </h2>
                
                <div class="rivalries-grid" id="rivalries-grid">
                    <!-- Rivalry cards will be populated here -->
                </div>
            </div>
        </section>

        <section class="generational-analysis-section">
            <div class="container">
                <h2 class="section-title">
                    <span class="title-icon">üìä</span>
                    Generational Performance Analysis
                </h2>
                
                <div class="generation-stats-grid">
                    <div class="generation-card">
                        <h3 class="generation-title">First Generation</h3>
                        <div class="generation-years">1984 - 2010</div>
                        <div class="generation-summary" id="gen1-stats">
                            <!-- Stats populated by JS -->
                        </div>
                        <p class="generation-description">The founders who established the tournament tradition and competitive framework that continues today.</p>
                    </div>

                    <div class="generation-card">
                        <h3 class="generation-title">Second Generation</h3>
                        <div class="generation-years">1995 - Present</div>
                        <div class="generation-summary" id="gen2-stats">
                            <!-- Stats populated by JS -->
                        </div>
                        <p class="generation-description">The competitive peak generation, carrying forward family traditions while establishing their own dynasties.</p>
                    </div>

                    <div class="generation-card">
                        <h3 class="generation-title">Third Generation</h3>
                        <div class="generation-years">2010 - Present</div>
                        <div class="generation-summary" id="gen3-stats">
                            <!-- Stats populated by JS -->
                        </div>
                        <p class="generation-description">The emerging talent bringing fresh strategies while honoring family legacies and traditions.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="family-tree-visualization-section">
            <div class="container">
                <h2 class="section-title">
                    <span class="title-icon">üå≤</span>
                    Interactive Family Trees
                </h2>
                
                <div class="tree-controls">
                    <button class="tree-btn active" data-family="ruston">Ruston Family</button>
                    <button class="tree-btn" data-family="wilson">Wilson Family</button>
                    <button class="tree-btn" data-family="smith">Smith Family</button>
                </div>
                
                <div class="family-tree-container" id="family-tree-container">
                    <!-- Interactive family tree will be rendered here -->
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Family Lineages</h4>
                    <p>Ruston Dynasty</p>
                    <p>Wilson Champions</p>
                    <p>Smith Strategists</p>
                </div>
                <div class="footer-section">
                    <h4>Generational Stats</h4>
                    <p>40 Years of Competition</p>
                    <p>3 Active Generations</p>
                    <p>Multi-Family Traditions</p>
                </div>
                <div class="footer-section">
                    <h4>Family Features</h4>
                    <p>Tournament Dynasties</p>
                    <p>Cross-Family Rivalries</p>
                    <p>Legacy Tracking</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Ruston Family Whist Drive. Celebrating 40 years of family tournament excellence.</p>
            </div>
        </div>
    </footer>

    <script src="../assets/js/tournament-engine.js"></script>
    <script src="../assets/js/family-tree.js"></script>
    <script src="../assets/js/main.js"></script>
    
    <script>
        // Family Tree page specific JavaScript
        let familyTree = null;
        let tournamentEngine = null;
        
        document.addEventListener('DOMContentLoaded', function() {
            initializeFamilyTreePage();
        });

        async function initializeFamilyTreePage() {
            try {
                // Initialize family tree system
                familyTree = new FamilyTree();
                tournamentEngine = new TournamentEngine();
                
                // Load family data
                await familyTree.loadFamilyData('../data/family-tree.json');
                
                // Set tournament engine for statistics
                familyTree.setTournamentEngine(tournamentEngine);
                
                // Load sample tournament data for statistics
                const sampleData = generateSampleTournamentDataForFamilies();
                await tournamentEngine.processScorecardCSV(sampleData);
                
                // Populate page content
                populateFamiliesGrid();
                populateRivalriesGrid();
                populateGenerationalStats();
                renderFamilyTree('ruston');
                
                // Set up event listeners
                setupFamilyTreeControls();
                
                console.log('üå≥ Family tree page loaded successfully');

            } catch (error) {
                console.error('Error loading family tree page:', error);
            }
        }

        function populateFamiliesGrid() {
            const grid = document.getElementById('families-grid');
            const families = familyTree.getAllFamilies();
            
            grid.innerHTML = families.map(family => {
                const familyId = family.family_name.toLowerCase();
                const stats = familyTree.calculateFamilyStatistics(familyId);
                
                return `
                    <div class="family-card" style="border-color: ${family.family_color}">
                        <div class="family-header">
                            <div class="family-crest" style="color: ${family.family_color}">üëë</div>
                            <h3 class="family-name" style="color: ${family.family_color}">${family.family_name} Family</h3>
                            <p class="family-motto">"${family.family_motto}"</p>
                        </div>
                        
                        <div class="family-stats">
                            <div class="family-stat">
                                <span class="stat-number">${stats ? stats.active_members : 0}</span>
                                <span class="stat-label">Active Members</span>
                            </div>
                            <div class="family-stat">
                                <span class="stat-number">${stats ? stats.generations : 0}</span>
                                <span class="stat-label">Generations</span>
                            </div>
                            <div class="family-stat">
                                <span class="stat-number">${stats ? stats.tournament_wins : 0}</span>
                                <span class="stat-label">Championships</span>
                            </div>
                            <div class="family-stat">
                                <span class="stat-number">${stats ? stats.win_percentage : 0}%</span>
                                <span class="stat-label">Win Rate</span>
                            </div>
                        </div>
                        
                        <div class="family-champions">
                            <h4>Family Champions</h4>
                            ${stats && stats.family_champions.length > 0 ? 
                                stats.family_champions.slice(0, 3).map(champion => 
                                    `<div class="champion-item">
                                        <span class="champion-name">${champion.name}</span>
                                        <span class="champion-wins">${champion.wins} wins</span>
                                    </div>`
                                ).join('') :
                                '<p class="no-champions">Championship history being calculated...</p>'
                            }
                        </div>
                        
                        <div class="family-actions">
                            <button class="family-btn" onclick="showFamilyTree('${familyId}')">View Family Tree</button>
                            <button class="family-btn secondary" onclick="showFamilyStats('${familyId}')">Detailed Stats</button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function populateRivalriesGrid() {
            const grid = document.getElementById('rivalries-grid');
            const rivalries = familyTree.getAllRivalries();
            
            grid.innerHTML = rivalries.map(rivalry => `
                <div class="rivalry-card">
                    <div class="rivalry-header">
                        <h3 class="rivalry-name">${rivalry.rivalry_name}</h3>
                        <div class="rivalry-years">Since ${rivalry.started}</div>
                    </div>
                    
                    <div class="rivalry-families">
                        <div class="rivalry-family" style="border-color: ${rivalry.family1_stats?.family_color || '#ccc'}">
                            <span class="family-name">${rivalry.family1_stats?.family_name || rivalry.families[0]}</span>
                            <span class="family-score">${rivalry.head_to_head[rivalry.families[0]]?.tournament_wins || 0}</span>
                        </div>
                        <div class="rivalry-vs">VS</div>
                        <div class="rivalry-family" style="border-color: ${rivalry.family2_stats?.family_color || '#ccc'}">
                            <span class="family-name">${rivalry.family2_stats?.family_name || rivalry.families[1]}</span>
                            <span class="family-score">${rivalry.head_to_head[rivalry.families[1]]?.tournament_wins || 0}</span>
                        </div>
                    </div>
                    
                    <p class="rivalry-description">${rivalry.description}</p>
                    
                    <div class="rivalry-current">
                        ${rivalry.head_to_head.current_streak ? 
                            `<strong>Current Streak:</strong> ${rivalry.head_to_head.current_streak.family} (${rivalry.head_to_head.current_streak.count} wins)` :
                            'Competitive balance maintained'
                        }
                    </div>
                </div>
            `).join('');
        }

        function populateGenerationalStats() {
            for (let gen = 1; gen <= 3; gen++) {
                const generation = familyTree.getGeneration(gen);
                const container = document.getElementById(`gen${gen}-stats`);
                
                let totalTournaments = 0;
                let totalWins = 0;
                let activePlayers = 0;
                
                generation.forEach(player => {
                    if (player.status === 'active') activePlayers++;
                    
                    const stats = tournamentEngine?.getPlayerStats(player.name);
                    if (stats) {
                        totalTournaments += stats.tournaments_played;
                        totalWins += stats.tournament_wins;
                    }
                });
                
                container.innerHTML = `
                    <div class="gen-stat">
                        <span class="stat-number">${generation.length}</span>
                        <span class="stat-label">Total Members</span>
                    </div>
                    <div class="gen-stat">
                        <span class="stat-number">${activePlayers}</span>
                        <span class="stat-label">Active Players</span>
                    </div>
                    <div class="gen-stat">
                        <span class="stat-number">${totalWins}</span>
                        <span class="stat-label">Championships</span>
                    </div>
                `;
            }
        }

        function renderFamilyTree(familyId) {
            const container = document.getElementById('family-tree-container');
            const treeData = familyTree.generateTreeVisualization(familyId);
            
            if (!treeData) {
                container.innerHTML = '<p>Family tree data not available</p>';
                return;
            }
            
            let treeHTML = `<div class="family-tree" style="border-color: ${treeData.family_color}">`;
            treeHTML += `<h3 class="tree-title" style="color: ${treeData.family_color}">${treeData.family_name} Family Tree</h3>`;
            
            // Render each generation
            Object.values(treeData.generations).forEach(generation => {
                treeHTML += `
                    <div class="tree-generation">
                        <h4 class="generation-label">${generation.generation_name}</h4>
                        <div class="generation-members">
                            ${generation.members.map(member => `
                                <div class="tree-member" style="border-color: ${treeData.family_color}">
                                    <div class="member-avatar">
                                        <div class="avatar-initial" style="background: ${treeData.family_color}">${member.name.split(' ').map(n => n[0]).join('')}</div>
                                    </div>
                                    <div class="member-info">
                                        <div class="member-name">${member.name}</div>
                                        <div class="member-nickname">"${member.nickname}"</div>
                                        <div class="member-role">${member.role}</div>
                                        ${member.tournament_stats ? 
                                            `<div class="member-stats">
                                                <span>${member.tournament_stats.tournament_wins} wins</span>
                                                <span>${member.tournament_stats.average_tricks} avg</span>
                                            </div>` : ''
                                        }
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            });
            
            treeHTML += '</div>';
            container.innerHTML = treeHTML;
        }

        function setupFamilyTreeControls() {
            const buttons = document.querySelectorAll('.tree-btn');
            buttons.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Update active button
                    buttons.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    
                    // Render selected family tree
                    const familyId = btn.dataset.family;
                    renderFamilyTree(familyId);
                });
            });
        }

        function showFamilyTree(familyId) {
            // Scroll to tree section and show family
            document.querySelector('.family-tree-visualization-section').scrollIntoView({ behavior: 'smooth' });
            
            // Update active button and render tree
            const buttons = document.querySelectorAll('.tree-btn');
            buttons.forEach(b => b.classList.remove('active'));
            document.querySelector(`[data-family="${familyId}"]`).classList.add('active');
            
            renderFamilyTree(familyId);
        }

        function showFamilyStats(familyId) {
            const stats = familyTree.calculateFamilyStatistics(familyId);
            if (stats) {
                alert(`${stats.family_name} Family Stats:\n` +
                      `Active Members: ${stats.active_members}\n` +
                      `Tournament Wins: ${stats.tournament_wins}\n` +
                      `Win Percentage: ${stats.win_percentage}%\n` +
                      `Average Tricks: ${stats.average_tricks}`);
            }
        }

        function generateSampleTournamentDataForFamilies() {
            // Sample CSV data matching family members
            return `Tournament,Year,Round,Trump_Suit,Player1,Player2,Tricks_Won,Opponent1,Opponent2,Opponent_Tricks
Christmas,2023,1,Hearts,James Ruston,Margaret Wilson,8,David Smith,Emma Jones,5
Christmas,2023,1,Hearts,David Smith,Emma Jones,5,James Ruston,Margaret Wilson,8
Christmas,2022,1,Hearts,Margaret Wilson,Tom Wilson,9,James Ruston,Sarah Brown,4
Christmas,2022,1,Hearts,James Ruston,Sarah Brown,4,Margaret Wilson,Tom Wilson,9
Christmas,2021,1,Spades,James Ruston,David Smith,7,Margaret Wilson,Emma Jones,6
Christmas,2021,1,Spades,Margaret Wilson,Emma Jones,6,James Ruston,David Smith,7`;
        }
    </script>

    <style>
        /* Family Tree page specific styles */
        .families-hero {
            background: linear-gradient(135deg, var(--bg-primary) 0%, var(--primary-dark) 100%);
            color: var(--text-primary);
            padding: var(--spacing-3xl) 0;
            position: relative;
            overflow: hidden;
        }

        .families-hero::before {
            content: 'üå≥';
            position: absolute;
            top: 50%;
            right: 5%;
            transform: translateY(-50%);
            font-size: 15rem;
            opacity: 0.1;
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            text-align: center;
        }

        .families-badge {
            background: rgba(212, 175, 55, 0.2);
            color: var(--gold);
            padding: var(--spacing-sm) var(--spacing-xl);
            border-radius: var(--border-radius-lg);
            font-size: 0.875rem;
            font-weight: 600;
            letter-spacing: 0.1em;
            margin-bottom: var(--spacing-lg);
            display: inline-block;
        }

        .hero-title {
            font-size: 3.5rem;
            font-weight: 900;
            margin-bottom: var(--spacing-md);
            font-family: var(--font-primary);
        }

        .hero-subtitle {
            font-size: 1.25rem;
            opacity: 0.9;
            max-width: 700px;
            margin: 0 auto;
        }

        .family-overview-section,
        .generational-analysis-section {
            padding: var(--spacing-3xl) 0;
            background: var(--bg-primary);
        }

        .family-rivalries-section,
        .family-tree-visualization-section {
            padding: var(--spacing-3xl) 0;
            background: var(--bg-secondary);
        }

        .families-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: var(--spacing-2xl);
        }

        .family-card {
            background: var(--card-bg);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-xl);
            box-shadow: var(--shadow-card);
            border: 3px solid;
            transition: all 0.2s ease;
        }

        .family-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-xl);
        }

        .family-header {
            text-align: center;
            margin-bottom: var(--spacing-lg);
        }

        .family-crest {
            font-size: 3rem;
            margin-bottom: var(--spacing-md);
        }

        .family-name {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: var(--spacing-sm);
        }

        .family-motto {
            font-style: italic;
            color: var(--text-secondary-dark);
        }

        .family-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
        }

        .family-stat {
            text-align: center;
            padding: var(--spacing-sm);
            background: var(--bg-secondary);
            border-radius: var(--border-radius);
        }

        .family-stat .stat-number {
            display: block;
            font-size: 1.5rem;
            font-weight: 900;
            color: var(--primary-dark);
        }

        .family-stat .stat-label {
            font-size: 0.75rem;
            color: var(--text-secondary-dark);
        }

        .family-champions {
            margin-bottom: var(--spacing-lg);
        }

        .family-champions h4 {
            color: var(--primary-dark);
            margin-bottom: var(--spacing-sm);
        }

        .champion-item {
            display: flex;
            justify-content: space-between;
            padding: var(--spacing-xs) 0;
            border-bottom: 1px solid var(--border-light);
        }

        .champion-name {
            color: var(--text-primary-dark);
        }

        .champion-wins {
            font-weight: 600;
            color: var(--primary);
        }

        .family-actions {
            display: flex;
            gap: var(--spacing-sm);
        }

        .family-btn {
            flex: 1;
            padding: var(--spacing-sm) var(--spacing-md);
            background: var(--secondary);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .family-btn:hover {
            background: var(--primary);
            transform: translateY(-1px);
        }

        .family-btn.secondary {
            background: var(--text-secondary-dark);
        }

        .rivalries-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: var(--spacing-xl);
        }

        .rivalry-card {
            background: var(--card-bg);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-xl);
            box-shadow: var(--shadow-card);
        }

        .rivalry-header {
            text-align: center;
            margin-bottom: var(--spacing-lg);
        }

        .rivalry-name {
            color: var(--primary-dark);
            margin-bottom: var(--spacing-sm);
        }

        .rivalry-years {
            color: var(--text-secondary-dark);
            font-size: 0.875rem;
        }

        .rivalry-families {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
        }

        .rivalry-family {
            flex: 1;
            text-align: center;
            padding: var(--spacing-md);
            border: 2px solid;
            border-radius: var(--border-radius);
        }

        .rivalry-family .family-name {
            display: block;
            font-weight: 600;
            color: var(--text-primary-dark);
        }

        .rivalry-family .family-score {
            display: block;
            font-size: 1.5rem;
            font-weight: 900;
            color: var(--primary);
        }

        .rivalry-vs {
            font-size: 1.25rem;
            font-weight: 900;
            color: var(--accent);
        }

        .rivalry-description {
            color: var(--text-secondary-dark);
            margin-bottom: var(--spacing-md);
            line-height: 1.6;
        }

        .rivalry-current {
            font-size: 0.875rem;
            color: var(--primary);
            font-weight: 600;
        }

        .generation-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-xl);
        }

        .generation-card {
            background: var(--card-bg);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-xl);
            box-shadow: var(--shadow-card);
            text-align: center;
        }

        .generation-title {
            color: var(--primary-dark);
            margin-bottom: var(--spacing-sm);
        }

        .generation-years {
            color: var(--gold);
            font-weight: 600;
            margin-bottom: var(--spacing-lg);
        }

        .generation-summary {
            display: flex;
            justify-content: space-around;
            margin-bottom: var(--spacing-lg);
        }

        .gen-stat {
            text-align: center;
        }

        .gen-stat .stat-number {
            display: block;
            font-size: 1.5rem;
            font-weight: 900;
            color: var(--primary);
        }

        .gen-stat .stat-label {
            font-size: 0.75rem;
            color: var(--text-secondary-dark);
        }

        .generation-description {
            color: var(--text-secondary-dark);
            line-height: 1.6;
        }

        .tree-controls {
            display: flex;
            justify-content: center;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-2xl);
        }

        .tree-btn {
            padding: var(--spacing-sm) var(--spacing-lg);
            background: var(--card-bg);
            color: var(--text-primary-dark);
            border: 2px solid var(--border-light);
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .tree-btn:hover,
        .tree-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .family-tree-container {
            background: var(--card-bg);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-2xl);
            box-shadow: var(--shadow-card);
        }

        .family-tree {
            border: 3px solid;
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-xl);
        }

        .tree-title {
            text-align: center;
            margin-bottom: var(--spacing-xl);
            font-size: 1.5rem;
        }

        .tree-generation {
            margin-bottom: var(--spacing-2xl);
        }

        .generation-label {
            text-align: center;
            color: var(--text-primary-dark);
            margin-bottom: var(--spacing-lg);
            padding-bottom: var(--spacing-sm);
            border-bottom: 2px solid var(--border-light);
        }

        .generation-members {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: var(--spacing-lg);
        }

        .tree-member {
            background: var(--bg-secondary);
            border: 2px solid;
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            text-align: center;
            min-width: 150px;
        }

        .member-avatar {
            margin-bottom: var(--spacing-sm);
        }

        .avatar-initial {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 900;
            margin: 0 auto;
        }

        .member-name {
            font-weight: 600;
            color: var(--text-primary-dark);
            margin-bottom: var(--spacing-xs);
        }

        .member-nickname {
            font-size: 0.75rem;
            font-style: italic;
            color: var(--text-secondary-dark);
            margin-bottom: var(--spacing-xs);
        }

        .member-role {
            font-size: 0.75rem;
            color: var(--primary);
            margin-bottom: var(--spacing-sm);
        }

        .member-stats {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            color: var(--text-secondary-dark);
        }

        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }
            
            .families-grid {
                grid-template-columns: 1fr;
            }
            
            .family-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .generation-members {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</body>
</html>